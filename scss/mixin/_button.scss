@use 'sass:map';
@use '../function' as *;
@use '../variable' as *;

@mixin btn-focus(
  $background: primary-background
) {
  @if not map.has-key($colors, btn, $background) {
    @error 'The #{$background} key name doesn\'t exist under btn at the $colors map.';
  }

  box-shadow: 0 0 0 0.25rem rgba(color(#{$background}, btn, true), 0.25);
  outline: 2px solid transparent;
}

@mixin btn-variant(
  $foreground: primary-foreground,
  $background: primary-background
) {
  @if not map.has-key($colors, btn, $foreground) or not map.has-key($colors, btn, $background) {
    @error 'The #{$foreground} or #{$background} key name doesn\'t exist under btn at the $colors map.';
  }

  background-color: color(#{$background}, btn);
  color: color(#{$foreground}, btn);

  &:hover {
    background-color: color(#{$background}-hover, btn);
    color: color(#{$foreground}-hover, btn);
  }

  &:focus {
    @include btn-focus($background);
  }
}
