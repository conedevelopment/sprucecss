@use 'sass:map';
@use '../function' as *;
@use '../mixin' as *;
@use '../config' as *;
@use 'button' as *;

@mixin generate-file-btn(
  $selector,
  $pseudo-selector: null,
  $has-icons: true,
  $has-sizes: true,
) {
  @include generate-btn($selector, $pseudo-selector, $has-icons, $has-sizes);

  #{$selector} {
    display: block;

    &:focus-within#{$pseudo-selector} {
      @if map.has-key($colors, btn, $form-file-background-color + '-shadow-focus') {
        box-shadow: 0 0 0 $btn-shadow-width color($form-file-background-color + '-shadow-focus', btn);
      } @else {
        box-shadow: 0 0 0 $btn-shadow-width color.adjust(color($form-file-background-color + '-background', btn, true), $alpha: -0.75);
      }
    }

    &#{$pseudo-selector} {
      @include btn-variant($form-file-background-color, false);
      margin-inline-end: spacer(s);
    }
  }
}
